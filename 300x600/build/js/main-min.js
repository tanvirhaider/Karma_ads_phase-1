function generateAhref(e){var t=document.createElement("div"),i;if(e.id&&t.setAttribute("id",e.id),e.position?t.style.position=e.position:t.style.position="absolute",e.target)var o=document.getElementById(e.target);i=e.container?document.getElementById(e.container):o.parentElement;var a=document.createElement("a");e.link&&a.setAttribute("href",e.link.content),e.link.target?a.setAttribute("target",e.link.target):a.setAttribute("target","_blank"),e.link.function&&(a.onclick=e.link.function),a.appendChild(o),t.appendChild(a),i.appendChild(t)}function createClass(e,t){var i=document.createElement("style");i.type="text/css",i.media="all",document.getElementsByTagName("head")[0].appendChild(i),(i.sheet||{}).insertRule?i.sheet.insertRule(e+"{"+t+"}",0):(i.styleSheet||i.sheet).addRule(e,t)}function createIMG(e,t,i,o,a){var n=new Image;return n.src=t,null!=i&&(n.id=i),null!=o&&(n.alt=o),null!=a&&(n.title=a),e.appendChild(n),n}function Stage(e){var t=document.createElement("div");if(e.id?t.setAttribute("id",e.id):t.setAttribute("id","stage"),e.width?(t.width=e.width,t.style.width=e.width+"px"):(t.width="100%",t.style.width="100%"),e.height?(t.height=e.height,t.style.height=e.height+"px"):(t.height="100%",t.style.height="100%"),e.position?t.style.position=e.position:t.style.position="relative",t.style.margin="0px",t.style.padding="0px",t.style.clip="rect(0px,"+(e.width+2)+"px,"+(e.height+2)+"px, 0px )",t.style.overflow="hidden",t.style.scrolling="no",e.backgroundColor&&(t.style.background=e.backgroundColor,t.style.backgroundSize=e.width+"px "+e.height+"px",t.style.backgroundRepeat="no-repeat"),e.border){e.id||(e.id="stage");var i=document.createElement("div");i.setAttribute("id",e.id+"-Border"),i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.position="absolute",i.style.margin="0px",i.style.zIndex=999999,i.style.border=e.border.thickness+"px solid "+e.border.color,i.style.boxSizing="border-box",i.style.pointerEvents="none",t.appendChild(i)}return t.addChild=function(e){t.appendChild(e),childIndex++,e.style.zIndex=childIndex},e.container?e.container.appendChild(t):document.body.appendChild(t),t}function Sprite(e){var t=document.createElement("div");if(this.obj=t,e.id?t.setAttribute("id",e.id):t.setAttribute("id",""),e.class&&(t.className+=e.class),e.position?t.style.position=e.position:t.style.position="absolute",e.display&&(t.style.display=e.display),e.width?(t.width=e.width,t.style.width=e.width+"px"):this.width=0,e.height?(t.height=e.height,t.style.height=e.height+"px"):this.height=0,e.image){var i=e.width+"px",o=e.height+"px",a=t.style;a.width=i,a.height=o,a.backgroundImage="url("+e.image+")",a.backgroundRepeat="no-repeat",e.cover||(a.backgroundSize=i+" "+o)}if(e.button){var n=document.createElement("button");e.button.text&&(n.innerHTML=e.button.text),t.appendChild(n)}if(e.text){var r=document.createTextNode(e.text.content);t.style.color=e.text.color,t.style.fontSize=e.text.size,t.style.fontFamily=e.text.fontFamily,e.text.maxWidth&&(t.style.maxWidth=e.text.width),e.text.lineHeight&&(t.style.lineHeight=e.text.lineHeight),e.text.fontWeight&&(t.style.fontWeight=e.text.fontWeight),t.appendChild(r)}if(e.color){var i=e.width+"px",o=e.height+"px",a=t.style;a.width=i,a.height=o,a.backgroundColor=e.color}if(e.gradient){var a=this.obj.style;a.width=e.gradient.width+"px",a.height=e.gradient.height+"px",a.background="-webkit-linear-gradient("+e.gradient.direction+","+e.gradient.color1+", "+e.gradient.color2+")",a.background="-o-linear-gradient("+e.gradient.direction+","+e.gradient.color1+", "+e.gradient.color2+")",a.background="-moz-linear-gradient("+e.gradient.direction+","+e.gradient.color1+", "+e.gradient.color2+")",a.background="linear-gradient("+e.gradient.direction+","+e.gradient.color1+", "+e.gradient.color2+")"}if(e.container&&e.container.appendChild(t),e.border){var s=document.createElement("div");s.setAttribute("id",e.id+"-Border"),s.style.width=e.width+"px",s.style.height=e.height+"px",s.style.position="absolute",s.style.margin="0px",s.style.zIndex=999999,s.style.border=e.border.thickness+"px solid "+e.border.color,s.style.boxSizing="border-box",s.style.pointerEvents="none",e.border.radius&&(s.style.borderRadius=e.border.radius),t.appendChild(s)}if(e.click){var t=this.obj;t.addEventListener("click",e.click.function,!1),t.style.cursor="pointer"}if(e.over){var t=this.obj;t.addEventListener("mouseover",e.over.function,!1),t.style.cursor="pointer"}if(e.out){var t=this.obj;t.addEventListener("mouseout",e.out.function,!1),t.style.cursor="pointer"}if(e.mousemove){var t=this.obj;t.addEventListener("mousemove",e.mousemove.function,!1)}var d=0,l=0,h=0;if(e.x&&(d=e.x),e.y&&(l=e.y),e.z){var a=t.style;a.zIndex=e.z}t.style.transform="translate("+d+"px,"+l+"px)",e.mask&&(t.style.clip="rect("+e.mask.y+"px,"+(e.mask.x+e.mask.width)+"px,"+(e.mask.y+e.mask.height)+"px,"+e.mask.x+"px)")}function init(){function e(e){Enabler.exit("click-through-url")}function t(){console.log("default setting"),TweenMax.set([w.obj,x.obj,j.obj,v.obj,k.obj],{alpha:0}),TweenMax.set([h.obj],{transformOrigin:"50% 100%",scale:1}),TweenMax.set([p.obj,g.obj,c.obj,b.obj,y.obj,u.obj],{alpha:0,transformOrigin:"50% 100%",scale:1})}function i(){var e=-15,i=new TimelineMax({repeat:0,repeatDelay:3});i.add(function(){t()}),i.fromTo("#willow-ad-stage",.5,{alpha:0},{alpha:1},"+=0.10"),i.to([h.obj],10,{scale:2,ease:Power0.easeIn}),i.to([h.obj],5,{alpha:0},"-=5"),i.to([p.obj],3,{alpha:1},"-=5"),i.to([p.obj],10,{scale:2,ease:Power0.easeIn},"-=6"),i.to([g.obj],3,{alpha:1},"-=5"),i.to([g.obj],10,{scale:2,ease:Power0.easeIn},"-=6"),i.to([c.obj],3,{alpha:1},"-=5"),i.to([c.obj],10,{scale:2,ease:Power0.easeIn},"-=6"),i.to([b.obj],3,{alpha:1},"-=5"),i.to([b.obj],10,{scale:2,ease:Power0.easeIn},"-=6"),i.to([y.obj],3,{alpha:1},"-=5"),i.to([y.obj],10,{scale:2,ease:Power0.easeIn},"-=6"),i.to([u.obj],6,{alpha:1},"-=6"),i.fromTo(r.obj,30,{backgroundPosition:"100% 50%"},{backgroundPosition:"0% 0%"},"-=30"),i.to([w.obj],1,{alpha:1},"-=28"),i.to([w.obj],1,{alpha:0},"-=25"),i.to([x.obj],1,{alpha:1},"-=24"),i.to([x.obj],1,{alpha:0},"-=21"),i.to([j.obj],1,{alpha:1},"-=20"),i.to([j.obj],1,{alpha:0},"-=17"),i.to([v.obj],1,{alpha:1},"-=16"),i.to([v.obj],1,{alpha:0},"-=13"),i.to([k.obj],1,{alpha:1},"-=12")}var o,a;o=new Stage({id:"willow-ad-stage",width:adWidth,height:adHeight,position:"relative",backgroundColor:"#ffffff",border:{color:"#ccc",thickness:1}}),TweenMax.set("#willow-ad-stage",{alpha:0}),"DCS"==adServer?a=new Sprite({id:"adContainer",position:"absolute",click:{function:e},container:o,width:adWidth,height:adHeight}):(a=new Sprite({id:"adContainer",position:"absolute",container:o,width:adWidth,height:adHeight}),generateAhref({link:{content:"javascript:window.open(window.clickTag)"},target:"adContainer",id:"adContainerAtag"}));var n=new Sprite({id:"carImageContainer",position:"absolute",container:a.obj,width:300,height:339,x:0,y:261,image:"images/red-car.jpg"}),r=new Sprite({id:"skyOverCar",position:"absolute",class:"skyovercarStyle",container:a.obj,width:300,height:100,x:34,y:276,image:"images/sky4.png"}),s=new Sprite({id:"carMaskHolder",position:"absolute",container:a.obj}),d=document.getElementById("Shape_masks");console.log(d),s.obj.appendChild(d),r.obj.style.clipPath="url(#yoMTV)",r.obj.style.webkitClipPath="url(#yoMTV)";var l=new Sprite({id:"skyHolder",position:"absolute",container:a.obj,width:300,height:261,x:0,y:0});l.obj.style.overflow="hidden";for(var h=new Sprite({id:"sky",position:"absolute",container:l.obj,width:720,height:267,x:-350,y:0,image:"images/sky.jpg"}),p=new Sprite({id:"sky2",position:"absolute",container:l.obj,width:720,height:267,x:-350,y:0,image:"images/sky.jpg"}),g=new Sprite({id:"sky3",position:"absolute",container:l.obj,width:720,height:267,x:-350,y:0,image:"images/sky.jpg"}),c=new Sprite({id:"sky4",position:"absolute",container:l.obj,width:720,height:267,x:-350,y:0,image:"images/sky.jpg"}),b=new Sprite({id:"sky5",position:"absolute",container:l.obj,width:720,height:267,x:-350,y:0,image:"images/sky.jpg"}),y=new Sprite({id:"sky6",position:"absolute",container:l.obj,width:720,height:267,x:-350,y:0,image:"images/sky.jpg"}),u=new Sprite({id:"sky7",position:"absolute",container:l.obj,width:720,height:267,x:-350,y:0,image:"images/sky.jpg"}),m=new Sprite({id:"karmalogo",position:"absolute",container:a.obj,width:163.6,height:102,x:72,y:70,image:"images/karmalogo.png"}),w=new Sprite({id:"cp1",class:"copyStyle",position:"absolute",container:a.obj,width:300,height:200,x:0,y:450,image:"images/copy1.svg"}),x=new Sprite({id:"cp2",position:"absolute",class:"copyStyle",container:a.obj,width:210,height:200,x:46,y:423,image:"images/copy2.svg"}),j=new Sprite({id:"cp3",position:"absolute",class:"copyStyle",container:a.obj,width:180,height:200,x:63,y:423,image:"images/copy3.svg"}),v=new Sprite({id:"cp4",position:"absolute",class:"copyStyle",container:a.obj,width:180,height:200,x:63,y:423,image:"images/copy4.svg"}),k=new Sprite({id:"driveBtn",position:"absolute",class:"copyStyle",container:a.obj,width:180,height:200,x:63,y:423,image:"images/drive_btn.svg"}),f=0;f<preload.length;f++)!function(e,t){var i=new Image;i.onload=function(){t.resolve()},i.src=e}(preload[f],promises[f]=$.Deferred());$.when.apply($,promises).done(function(){i()})}var preload=["images/red-car.jpg","images/copy1.svg","images/copy2.svg","images/copy3.svg","images/copy4.svg","images/drive_btn.svg","images/sky.jpg","images/sky4.png"],adWidth=300,adHeight=600,adServer="DCM",promises=[];init();